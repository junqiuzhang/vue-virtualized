var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue-virtualized"]=t(e.Vue)}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="Expected a function",n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,p=l||a||Function("return this")(),s=Object.prototype.toString,c=Math.max,d=Math.min,v=function(){return p.Date.now()};function m(e,t,n){var o,i,u,f,l,a,p=0,s=!1,m=!1,_=!0;if("function"!=typeof e)throw new TypeError(r);function g(t){var r=o,n=i;return o=i=void 0,p=t,f=e.apply(n,r)}function h(e){return p=e,l=setTimeout(O,t),s?g(e):f}function w(e){var r=e-a;return void 0===a||r>=t||r<0||m&&e-p>=u}function O(){var e=v();if(w(e))return P(e);l=setTimeout(O,function(e){var r=t-(e-a);return m?d(r,u-(e-p)):r}(e))}function P(e){return l=void 0,_&&o?g(e):(o=i=void 0,f)}function j(){var e=v(),r=w(e);if(o=arguments,i=this,a=e,r){if(void 0===l)return h(a);if(m)return l=setTimeout(O,t),g(a)}return void 0===l&&(l=setTimeout(O,t)),f}return t=y(t)||0,b(n)&&(s=!!n.leading,u=(m="maxWait"in n)?c(y(n.maxWait)||0,t):u,_="trailing"in n?!!n.trailing:_),j.cancel=function(){void 0!==l&&clearTimeout(l),p=0,o=a=i=l=void 0},j.flush=function(){return void 0===l?f:P(v())},j}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=i.test(e);return r||u.test(e)?f(e.slice(2),r?2:8):o.test(e)?NaN:+e}var _=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return b(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),m(e,t,{leading:o,maxWait:t,trailing:i})};const g={position:"absolute"};return e.defineComponent({props:{width:Number,height:Number,itemCount:Number,itemSize:Function,renderCount:Number,renderItem:Function},setup(t,r){const n=e.ref(null),o=e.ref([]),i=e.ref(),u=()=>{const e=t.itemCount||0,r=[];if(!n.value)return[];if(!t.renderItem)return[];for(let i=0;i<e;i++){const e=o.value[i],u=o.value[i+1]-o.value[i];e<n.value.scrollTop+2*t.height&&e+u>n.value.scrollTop-t.height&&r.push(t.renderItem({index:i,style:__spreadProps(__spreadValues({},g),{top:`${e}px`})}))}return r},f=()=>{const e=t.itemCount||0,r=[0];let n=0;for(let o=0;o<e;o++)"function"==typeof t.itemSize?n+=t.itemSize(o):"number"==typeof t.itemSize&&(n+=t.itemSize),r.push(n);o.value=r};return()=>(t.renderCount!==i.value&&(f(),i.value=t.renderCount),e.createVNode("div",{ref:n,style:{width:`${t.width}px`,height:`${t.height}px`,overflow:"auto"},onScroll:_(f,10)},[e.createVNode("div",{style:{position:"relative",height:`${o.value[o.value.length-1]}px`}},[u()])]))}})}));
