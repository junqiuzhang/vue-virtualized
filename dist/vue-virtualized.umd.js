var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue-virtualized"]=t(e.Vue)}(this,(function(e){"use strict";const t={position:"absolute"};return e.defineComponent({props:{width:{type:Number,required:!0},height:{type:Number,required:!0},itemCount:{type:Object,required:!0},itemSize:{type:Object,required:!0},renderItem:{type:Function,required:!0},reRenderCount:{type:Number,required:!1,default:1},preRenderPageCount:{type:Number,required:!1,default:1}},setup(r){const o=e.ref(null),n=e.ref([]),u={value:0},p=()=>"function"==typeof r.itemCount?r.itemCount():"number"==typeof r.itemCount?r.itemCount:0,i=e=>"function"==typeof r.itemSize?r.itemSize(e):"number"==typeof r.itemSize?r.itemSize:0,l=()=>{const e=p(),u=[];if(!o.value)return[];if(!r.renderItem)return[];const i=o.value.scrollTop+(1+r.preRenderPageCount)*r.height,l=o.value.scrollTop-r.preRenderPageCount*r.height;for(let o=0;o<e;o++){const e=n.value[o],p=n.value[o+1];e<i&&p>l&&u.push(r.renderItem({index:o,style:__spreadProps(__spreadValues({},t),{top:`${e}px`})}))}return u},s=()=>{const e=p(),t=[0];let r=0;for(let o=0;o<e;o++)r+=i(o),t.push(r);n.value=t},d=()=>{var e,t;const n=null!=(t=null==(e=o.value)?void 0:e.scrollTop)?t:0,p=n-u.value,i=r.height;p<i&&p>-i||(u.value=n,s())};return e.watch((()=>r.reRenderCount),(()=>{s()})),s(),()=>e.createVNode("div",{ref:o,style:{width:`${r.width}px`,height:`${r.height}px`,overflow:"auto"},onScroll:d},[e.createVNode("div",{style:{position:"relative",height:`${n.value[n.value.length-1]}px`}},[l()])])}})}));
